<main>
  <div class="bg-primary-100 pt-9 pb-7">
    <div class="container">
      <div class="row">
        <div class="col-12 col-md-10 col-lg-6 offset-md-1 offset-lg-3">
          <blockquote class="position-relative py-9 mb-7 mb-md-4 fs-4 text-center text-primary-800">
            <img class="d-md-none position-absolute start-50 top-0 translate-middle-x" src="/images/quote-left.png" loading="lazy" alt="quote-left">
            <img class="d-none d-md-block position-absolute start-0 top-0" src="/images/quote-left.png" loading="lazy" alt="quote-left">
            <p>玩家最多的楓之谷<mark class="mark p-0">懷舊服</mark></p>
            <p class="mt-3 mt-md-0 mb-3">完美復刻<mark class="mark p-0">台服</mark>絕版內容</p>
            <img class="d-none d-md-block position-absolute end-0 bottom-0" src="/images/quote-right.png" loading="lazy" alt="quote-right">
          </blockquote>
        </div>
      </div>
      <div class="row row-gap-4 justify-content-center pb-7">
        <div class="col-10 col-md-4 col-lg-3">
          <div class="text-center">
            <h6
              class="border-half position-relative d-inline-block pb-1 mb-2 lh-base fw-normal text-primary-600"
            >組隊任務</h6>
            <p class="text-primary-700">超綠、怪物擂台、101、女神的遺跡、月兔的年糕、結婚小鎮</p>
          </div>
        </div>
        <div class="col-10 col-md-4 col-lg-3">
          <div class="text-center">
            <h6
              class="border-half position-relative d-inline-block pb-1 mb-2 lh-base fw-normal text-primary-600"
            >世界旅行</h6>
            <p class="text-primary-700">日本、泰國、新加坡、馬來西亞、中國</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container py-7 py-md-9 mt-7 mt-md-9">
    <ul class="row row-gap-9 mb-8 mb-md-9 list-unstyled">
      <% for (const collectionKey in site.data.collections) { %>
        <% const collection = site.data.collections[collectionKey] %>
          <li class="col-12 col-md-6">
            <div class="card border-0">
              <button
                data-bs-toggle="modal"
                data-bs-target="#collectionModal<%= collection.id %>"
                class="bg-transparent border-0"
                type="button"
              >
                <img
                  src="/images/map-image<%= collection.id %>.png"
                  loading="lazy"
                  class="card-img-top rounded-4"
                  alt="map<%= collection.id %>"
                >
              </button>
              <div class="card-body">
                <h3 class="card-title text-primary-700"><%= collection.name %></h3>
                <p class="card-text mb-3 mb-md-4 text-primary-500"><%= collection.title %></p>
                <div class="d-flex gap-3">
                  <% for (const tagKey in collection.tags) {%>
                    <% const tag = collection.tags[tagKey] %>
                      <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
                        <%= tag %>
                      </span>
                  <% } %>
                </div>
              </div>
            </div>
          </li>
      <% } %>
    </ul>
  </div>

  <% for (const collectionKey in site.data.collections) { %>
    <% const collection = site.data.collections[collectionKey] %>
    <div class="modal" id="collectionModal<%= collection.id %>" tabindex="-1" aria-labelledby="modal<%= collection.id %>" aria-hidden="true">
      <div
        class="modal-dialog modal-dialog-centered"
        style="--bs-modal-width: 1076px;"
      >
        <div class="modal-content rounded-4">
          <div class="modal-header pt-6 pb-0 px-6 px-md-7 mb-4 mb-md-7 border-0">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="px-6 px-md-9">
            <h3 class="modal-title mb-2 text-primary-700 text-center"><%= collection.name %></h3>
            <p class="mb-4 mb-md-7 text-primary-500 text-center"><%= collection.title %></p>
            <div class="row row-gap-4 justify-content-center justify-content-md-between align-items-center mb-4 mb-md-7">
              <div class="col-12 col-md-5 col-lg-7 text-center text-md-start text-primary-800">
                <p class="mb-0"><%- collection.description %></p>
              </div>
              <div class="divider col-12 col-md-5 w-auto text-center text-md-start ps-md-4 pt-4 pt-md-0 text-primary-600">
                <p class="d-md-none mb-1">地圖分類</p>
                <p class="d-md-none mb-3"><%= collection.map %></p>
                <p class="d-md-none mb-1">經典怪物</p>
                <p class="d-md-none mb-0"><%= collection.monsters %></p>
                <p class="d-none d-md-block mb-1">地圖分類：<%= collection.map %></p>
                <p class="d-none d-md-block mb-0">經典怪物：<%= collection.monsters %></p>
              </div>
            </div>
          </div>
          <div class="modal-body py-7 text-center bg-primary-100">
            <% for (const index in collection.details) { %>
              <% const detail = collection.details[index] %>
              <h4 class="mb-2 mb-md-3 fs-5 text-primary-800"><%= detail %></h4>
              <img class="img-fluid mb-3 mb-md-4 rounded-4" src="/images/map-image<%= collection.id %>-content<%= parseInt(index) + 1 %>.png" loading="lazy" alt="modal-image<%= index %>">
            <% } %>
          </div>
        </div>
      </div>
    </div>
  <% } %>
</main>